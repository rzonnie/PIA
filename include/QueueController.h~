#ifndef QUEUECONTROLLER_H
#define QUEUECONTROLLER_H

<<<<<<< HEAD
#include "../include/ReceivingSocket.h"
#include "../include/DynamicQueue.h"
#include "../include/PIA.h"
=======
#include "ReceivingSocket.h"
#include "DynamicQueue.h"
#include "PIA.h"
>>>>>>> 590471ee84cbf397850e566c374f9e438f8a7911

#include <sstream>
#include <boost/archive/text_iarchive.hpp>
#include <boost/serialization/vector.hpp>

class QueueController : public ThreadRunner {
public:
    QueueController(Settings* settings, DynamicQueue* sendQueue, DynamicQueue* receivingQueue, RoutingTable* routingTable);
    //Input: pointer to receiving, ack and default queues
    virtual ~QueueController();
    
    void discardPacket();
    void run() override;
    void ackChecker(PIA &packet);

private:
    void ntaChecker(PIA &packet);
    
    DynamicQueue* sendQueue;
    DynamicQueue* receivingQueue;
    RoutingTable* routingTable;
};

#endif /* QUEUECONTROLLER_H */
